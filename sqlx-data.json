{
  "db": "PostgreSQL",
  "02a7144ea82c64a292133c794a33afc5b4f744b34263c4871a457221452c3642": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "height",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "width",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "hash",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "dead_url",
          "ordinal": 7,
          "type_info": "Bool"
        },
        {
          "name": "life_last_checked",
          "ordinal": 8,
          "type_info": "Timestamp"
        },
        {
          "name": "start_time",
          "ordinal": 9,
          "type_info": "Timestamp"
        },
        {
          "name": "end_time",
          "ordinal": 10,
          "type_info": "Timestamp"
        },
        {
          "name": "stopped",
          "ordinal": 11,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM Posters WHERE id = $1 AND creator = $2 LIMIT 1"
  },
  "252ba10689d4d24e40bdd10663ab366ee59a29a1397e6fe13a6f482b501bb790": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO Creators (email, token, minting_time) VALUES ($1, $2, (now() at time zone 'utc'))\n            ON CONFLICT (email)\n            DO UPDATE SET token = $2, minting_time = (now() at time zone 'utc')\n            RETURNING id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout"
  },
  "308eb5fa8cefea532774c56787f2e06dd99892e2d32a223c0bc1c6a0875842cf": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "lockout",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "moderator",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "poster_limit",
          "ordinal": 5,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT id, email, creation_time, lockout, moderator, poster_limit\n            FROM Creators WHERE id = $1 LIMIT 1"
  },
  "44d62d4c430d2f8f260db2c4bc4ff92c9764fbcf6a8c82bbf753c2d354c4c9f2": {
    "describe": {
      "columns": [
        {
          "name": "can_add!",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT poster_limit > (SELECT COUNT(*) FROM Posters WHERE creator = Creators.id) AS \"can_add!\"\n            FROM Creators WHERE id = $1\n            "
  },
  "7666f52006efc26bd00ae483389e6aa895f600b185e3e14210dcf7f2bbdc01dc": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "height",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "width",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "hash",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "dead_url",
          "ordinal": 7,
          "type_info": "Bool"
        },
        {
          "name": "life_last_checked",
          "ordinal": 8,
          "type_info": "Timestamp"
        },
        {
          "name": "start_time",
          "ordinal": 9,
          "type_info": "Timestamp"
        },
        {
          "name": "end_time",
          "ordinal": 10,
          "type_info": "Timestamp"
        },
        {
          "name": "stopped",
          "ordinal": 11,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM Posters WHERE creator = $1"
  },
  "7ffe6ccb4241f2c5808b8b7b441d0016307767c1a2b5c44fbf47ec7ae49b2d2b": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout\n            FROM Creators WHERE token = $1 LIMIT 1"
  },
  "d0149e669650218decfc2f2a38979e8abc190a15c69f606df87524f46395e605": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "height",
          "ordinal": 4,
          "type_info": "Int4"
        },
        {
          "name": "width",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "hash",
          "ordinal": 6,
          "type_info": "Text"
        },
        {
          "name": "dead_url",
          "ordinal": 7,
          "type_info": "Bool"
        },
        {
          "name": "life_last_checked",
          "ordinal": 8,
          "type_info": "Timestamp"
        },
        {
          "name": "start_time",
          "ordinal": 9,
          "type_info": "Timestamp"
        },
        {
          "name": "end_time",
          "ordinal": 10,
          "type_info": "Timestamp"
        },
        {
          "name": "stopped",
          "ordinal": 11,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 12,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Text",
          "Int4",
          "Int4",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO Posters (Creator, Url, Height, Width, Hash)\n            SELECT $1, $2, $3, $4, $5\n            WHERE (SELECT COUNT(*) FROM Posters WHERE creator = $1) < (SELECT poster_limit FROM Creators WHERE id = $1 LIMIT 1)\n            RETURNING *;\n            "
  },
  "ddc28ad4f873b02682864c6d1c3157d161353d337eb139d55228fa105732d675": {
    "describe": {
      "columns": [
        {
          "name": "url",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT url FROM Posters\n            WHERE id IN (SELECT id FROM Posters ORDER BY RANDOM() LIMIT 1)\n            LIMIT 1"
  },
  "dfa723ea6a6066caffa78b6664c35a4eadfd878883fa5b3598b56fd4c7d80d00": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE Creators\n            SET token = $1, minting_time = (now() at time zone 'utc')\n            WHERE id = $2\n            RETURNING id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout"
  }
}