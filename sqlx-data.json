{
  "db": "PostgreSQL",
  "02a7144ea82c64a292133c794a33afc5b4f744b34263c4871a457221452c3642": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "stopped",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "serveable",
          "ordinal": 6,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM Posters WHERE id = $1 AND creator = $2 LIMIT 1"
  },
  "050d723ff146e795dedc263017ad4c8bdf93e7ea1a084eaaab19012519a70855": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO Creators (email, token, minting_time) VALUES ($1, $2, (now() at time zone 'utc'))\n          ON CONFLICT (email)\n          DO UPDATE SET token = $2, minting_time = (now() at time zone 'utc')\n          RETURNING id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout"
  },
  "308eb5fa8cefea532774c56787f2e06dd99892e2d32a223c0bc1c6a0875842cf": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "lockout",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "moderator",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "poster_limit",
          "ordinal": 5,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT id, email, creation_time, lockout, moderator, poster_limit\n            FROM Creators WHERE id = $1 LIMIT 1"
  },
  "44d62d4c430d2f8f260db2c4bc4ff92c9764fbcf6a8c82bbf753c2d354c4c9f2": {
    "describe": {
      "columns": [
        {
          "name": "can_add!",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT poster_limit > (SELECT COUNT(*) FROM Posters WHERE creator = Creators.id) AS \"can_add!\"\n            FROM Creators WHERE id = $1\n            "
  },
  "7666f52006efc26bd00ae483389e6aa895f600b185e3e14210dcf7f2bbdc01dc": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "stopped",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "serveable",
          "ordinal": 6,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM Posters WHERE creator = $1"
  },
  "a5dcb17174f912b4903a9b978b21ffc7c4bec68c87aa8e3ca321206b5a12f1a3": {
    "describe": {
      "columns": [
        {
          "name": "url",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT url FROM Posters WHERE id = $1"
  },
  "afb0d0f89225f4fde841da9adc142a753b35d98205e4f2660201c0f5efbebb7d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout\n          FROM Creators WHERE token = $1 LIMIT 1"
  },
  "dfa723ea6a6066caffa78b6664c35a4eadfd878883fa5b3598b56fd4c7d80d00": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "token!",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "minting_time!",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "moderator",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 4,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE Creators\n            SET token = $1, minting_time = (now() at time zone 'utc')\n            WHERE id = $2\n            RETURNING id, token AS \"token!\", minting_time AS \"minting_time!\", moderator, lockout"
  },
  "f6f006aaf3bca7585cb6e646b566bf394eafa6c4af7fdc2e0ab7bd68ea392e41": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "creator",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "creation_time",
          "ordinal": 2,
          "type_info": "Timestamp"
        },
        {
          "name": "url",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "stopped",
          "ordinal": 4,
          "type_info": "Bool"
        },
        {
          "name": "lockout",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "serveable",
          "ordinal": 6,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO Posters (Creator, Url)\n            SELECT $1, $2\n            WHERE (SELECT COUNT(*) FROM Posters WHERE creator = $1) < (SELECT poster_limit FROM Creators WHERE id = $1 LIMIT 1)\n            RETURNING *;\n            "
  },
  "fba5d616fa44b1e53da2fd8e694707f51740ac54136fccfc874aa48a21b2fd7d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id FROM Posters WHERE serveable ORDER BY RANDOM() LIMIT 1"
  }
}